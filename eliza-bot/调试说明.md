# ELIZA 调试功能使用说明

## 概述

我已经为 ELIZA 聊天机器人添加了详细的调试功能，帮助你理解 **关键词匹配 + 模板回复** 的核心工作原理。

## 如何使用调试功能

### 1. 命令行调试 (demo.js)

```bash
cd eliza-bot
node demo.js
```

这会运行带有详细调试输出的演示，显示：
- 🔍 原始输入处理过程
- 📋 所有关键词列表（按优先级排序）
- 🔎 逐个关键词匹配检查
- 🎯 找到匹配时的详细信息
- 💬 回复生成过程

### 2. 网页调试 (demo.html)

1. 用浏览器打开 `demo.html`
2. 按 F12 打开开发者工具
3. 在输入框中输入问题，如："JavaScript 的控制台输出语句是什么?"
4. 查看控制台的详细调试信息
5. 使用 `debugger` 断点逐步调试

## 核心测试用例

### ✅ 成功匹配的例子

1. **"JavaScript 的控制台输出语句是什么?"**
   - 匹配关键词：**"控制台"** (优先级 15)
   - 回复：`console.log("Hello, world!");`

2. **"如何在控制台输出信息?"**
   - 匹配关键词：**"控制台"** (优先级 15)
   - 回复：`console.log("Hello, world!");`

3. **"console.log 是做什么的?"**
   - 匹配关键词：**"console"** (优先级 15)
   - 回复：`console.log("Hello, world!");`

4. **"我想学习 JavaScript"**
   - 匹配关键词：**"javascript"** (优先级 10)
   - 回复：多个可能的回复之一

## ELIZA 工作原理详解

### 1. 文本预处理
- 转换为小写
- 清理标点符号
- 分割句子

### 2. 关键词匹配
- 按优先级从高到低检查关键词
- 中文关键词：直接匹配
- 英文关键词：使用单词边界匹配
- **优先级越高越先匹配**

### 3. 模式匹配
- 每个关键词可以有多个模式规则
- 使用正则表达式匹配句子结构
- 捕获参数用于回复生成

### 4. 回复生成
- 从匹配的模板列表中随机选择
- 替换参数（如 $1, $2）
- 后处理（首字母大写等）

### 5. 关键词优先级示例

```
优先级 50: "computer"
优先级 15: "console", "控制台"
优先级 12: "output", "输出"  
优先级 10: "javascript"
优先级  0: "hello", "sorry" 等默认关键词
```

## 调试断点说明

代码中设置了多个 `debugger` 断点：

1. **断点1**: 查看原始输入
2. **断点2**: 查看关键词匹配过程
3. **断点3**: 找到匹配的关键词时
4. **断点4**: 查看回复生成过程
5. **断点5**: 查看参数替换过程

## 理解关键概念

### 为什么是 "关键词匹配 + 模板回复"？

1. **ELIZA 不理解语义**：它只是在文本中查找预定义的关键词
2. **优先级决定匹配**：优先级高的关键词会先被检查
3. **模板回复**：每个关键词对应一组预设的回复模板
4. **随机选择**：从模板中随机选择一个回复，增加对话的多样性

### 与现代 AI 的区别

| 特性 | ELIZA (1966) | ChatGPT (2023) |
|------|-------------|----------------|
| 工作原理 | 关键词匹配 | 深度学习 |
| 语义理解 | ❌ 无 | ✅ 有 |
| 上下文记忆 | ❌ 极少 | ✅ 长期 |
| 回复方式 | 固定模板 | 动态生成 |

这就是为什么 ELIZA 被称为 AI 发展史上的重要里程碑 - 它用简单的规则实现了看似智能的对话！
